<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2598px" preserveAspectRatio="none" style="width:1217px;height:2598px;background:#FFFFFF;" version="1.1" viewBox="0 0 1217 2598" width="1217px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1207.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="160" y="91.2969"/><rect fill="#FFFFFF" height="581.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="160" y="1402.75"/><rect fill="#FFFFFF" height="431.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="160" y="2067.7969"/><rect fill="#FFFFFF" height="142.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="699" y="221.8281"/><rect fill="#FFFFFF" height="155.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="699" y="680.2266"/><rect fill="#FFFFFF" height="113.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="699" y="938.1563"/><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="699" y="1521.1484"/><rect fill="#FFFFFF" height="260.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="699" y="1687.8125"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="699" y="2211.4609"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="699" y="2392.125"/><rect fill="none" height="372.1328" style="stroke:#000000;stroke-width:1.5;" width="655" x="104.5" y="141.4297"/><rect fill="none" height="243.9297" style="stroke:#000000;stroke-width:1.5;" width="1095.5" x="104.5" y="599.8281"/><rect fill="none" height="243.9297" style="stroke:#000000;stroke-width:1.5;" width="1095.5" x="104.5" y="857.7578"/><rect fill="none" height="390.4609" style="stroke:#000000;stroke-width:1.5;" width="839.5" x="94.5" y="1356.4844"/><rect fill="none" height="132.5313" style="stroke:#000000;stroke-width:1.5;" width="819.5" x="104.5" y="1607.4141"/><rect fill="none" height="130.5313" style="stroke:#000000;stroke-width:1.5;" width="655" x="104.5" y="1760.9453"/><rect fill="none" height="190.7969" style="stroke:#000000;stroke-width:1.5;" width="675" x="94.5" y="2106.9297"/><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="655" x="104.5" y="2131.0625"/><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="655" x="104.5" y="2311.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="39" x2="39" y1="81.2969" y2="2517.5234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="164.5" x2="164.5" y1="81.2969" y2="2517.5234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="703.5" x2="703.5" y1="81.2969" y2="2517.5234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="20" y="77.9951">User</text><ellipse cx="39" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M39,21.5 L39,48.5 M26,29.5 L52,29.5 M39,48.5 L26,63.5 M39,48.5 L52,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="20" y="2529.5186">User</text><ellipse cx="39" cy="2541.3203" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M39,2549.3203 L39,2576.3203 M26,2557.3203 L52,2557.3203 M39,2576.3203 L26,2591.3203 M39,2576.3203 L52,2591.3203 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="114.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="121.5" y="69.9951">Sesame App</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="114.5" y="2516.5234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="121.5" y="2536.5186">Sesame App</text><rect fill="#D3D3D3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="658.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="665.5" y="69.9951">BLE Device</text><rect fill="#D3D3D3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="658.5" y="2516.5234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="665.5" y="2536.5186">BLE Device</text><rect fill="#FFFFFF" height="1207.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="160" y="91.2969"/><rect fill="#FFFFFF" height="581.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="160" y="1402.75"/><rect fill="#FFFFFF" height="431.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="160" y="2067.7969"/><rect fill="#FFFFFF" height="142.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="699" y="221.8281"/><rect fill="#FFFFFF" height="155.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="699" y="680.2266"/><rect fill="#FFFFFF" height="113.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="699" y="938.1563"/><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="699" y="1521.1484"/><rect fill="#FFFFFF" height="260.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="699" y="1687.8125"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="699" y="2211.4609"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="699" y="2392.125"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1210" x="0" y="111.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1210" y1="111.8633" y2="111.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1210" y1="114.8633" y2="114.8633"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="106" x="552" y="101.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="87" x="558" y="117.3638">Preparation</text><path d="M104.5,141.4297 L168.5,141.4297 L168.5,148.5625 L158.5,158.5625 L104.5,158.5625 L104.5,141.4297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="372.1328" style="stroke:#000000;stroke-width:1.5;" width="655" x="104.5" y="141.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="119.5" y="154.4966">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="123" x="183.5" y="153.6401">[BLE status == ON]</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="179.6953" y2="179.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="179.6953" y2="192.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="192.6953" y2="192.6953"/><polygon fill="#181818" points="181,188.6953,171,192.6953,181,196.6953,177,192.6953" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="177" y="174.6294">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="190" y="174.6294">Scan for Bluetooth devices</text><polygon fill="#181818" points="687,217.8281,697,221.8281,687,225.8281,691,221.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="693" y1="221.8281" y2="221.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="177" y="216.7622">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="190" y="216.7622">Connect</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="250.9609" y2="250.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="250.9609" y2="263.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="263.9609" y2="263.9609"/><polygon fill="#181818" points="181,259.9609,171,263.9609,181,267.9609,177,263.9609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="177" y="245.895">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="190" y="245.895">Discover services</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="293.0938" y2="293.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="293.0938" y2="306.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="306.0938" y2="306.0938"/><polygon fill="#181818" points="181,302.0938,171,306.0938,181,310.0938,177,306.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="177" y="288.0278">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="190" y="288.0278">Discover characteristics</text><polygon fill="#181818" points="687,331.2266,697,335.2266,687,339.2266,691,335.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="693" y1="335.2266" y2="335.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="177" y="330.1606">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="190" y="330.1606">Enable notifications</text><polygon fill="#181818" points="181,360.3594,171,364.3594,181,368.3594,177,364.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="175" x2="703" y1="364.3594" y2="364.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="187" y="359.2935">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="396" x="200" y="359.2935">Initialization successful and a random code has been returned</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="393.4922" y2="393.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="393.4922" y2="406.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="406.4922" y2="406.4922"/><polygon fill="#181818" points="181,402.4922,171,406.4922,181,410.4922,177,406.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="177" y="388.4263">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="190" y="388.4263">Save random code (session token)</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="435.625" y2="435.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="435.625" y2="448.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="448.625" y2="448.625"/><polygon fill="#181818" points="181,444.625,171,448.625,181,452.625,177,448.625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="177" y="430.5591">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="190" y="430.5591">Generate key pair A</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="104.5" x2="759.5" y1="457.625" y2="457.625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="119" x="109.5" y="467.8354">[BLE status != ON]</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="492.5625" y2="492.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="492.5625" y2="505.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="505.5625" y2="505.5625"/><polygon fill="#181818" points="181,501.5625,171,505.5625,181,509.5625,177,505.5625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="177" y="487.4966">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="190" y="487.4966">Remind the user to turn on Bluetooth</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1210" x="0" y="541.1289"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1210" y1="541.1289" y2="541.1289"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1210" y1="544.1289" y2="544.1289"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="109" x="550.5" y="530.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="90" x="556.5" y="546.6294">Registration</text><polygon fill="#181818" points="148,580.8281,158,584.8281,148,588.8281,152,584.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="39" x2="154" y1="584.8281" y2="584.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="46" y="579.7622">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="68" y="579.7622">Add device</text><path d="M104.5,599.8281 L472.5,599.8281 L472.5,606.9609 L462.5,616.9609 L104.5,616.9609 L104.5,599.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="243.9297" style="stroke:#000000;stroke-width:1.5;" width="1095.5" x="104.5" y="599.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="323" x="119.5" y="612.895">Sesame5/Bike2/Open Sensor/Sesame Touch</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="638.0938" y2="638.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="638.0938" y2="651.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="651.0938" y2="651.0938"/><polygon fill="#181818" points="181,647.0938,171,651.0938,181,655.0938,177,651.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="633.0278">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="439" x="199" y="633.0278">Generate command data using public key of key pair A + timestamp</text><polygon fill="#181818" points="687,676.2266,697,680.2266,687,684.2266,691,680.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="693" y1="680.2266" y2="680.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="675.1606">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="199" y="675.1606">Send command data</text><line style="stroke:#181818;stroke-width:1.0;" x1="709" x2="751" y1="709.3594" y2="709.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="751" x2="751" y1="709.3594" y2="722.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="710" x2="751" y1="722.3594" y2="722.3594"/><polygon fill="#181818" points="720,718.3594,710,722.3594,720,726.3594,716,722.3594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="716" y="704.2935">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="738" y="704.2935">Synchronize time</text><line style="stroke:#181818;stroke-width:1.0;" x1="709" x2="751" y1="751.4922" y2="751.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="751" x2="751" y1="751.4922" y2="764.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="710" x2="751" y1="764.4922" y2="764.4922"/><polygon fill="#181818" points="720,760.4922,710,764.4922,720,768.4922,716,764.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="716" y="746.4263">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="738" y="746.4263">Generate key pair B</text><line style="stroke:#181818;stroke-width:1.0;" x1="709" x2="751" y1="793.625" y2="793.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="751" x2="751" y1="793.625" y2="806.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="710" x2="751" y1="806.625" y2="806.625"/><polygon fill="#181818" points="720,802.625,710,806.625,720,810.625,716,806.625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="716" y="788.5591">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="450" x="738" y="788.5591">Generate key with public key of key pair A and private key of key pair B</text><polygon fill="#181818" points="181,831.7578,171,835.7578,181,839.7578,177,835.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="175" x2="703" y1="835.7578" y2="835.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="187" y="830.6919">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="209" y="830.6919">Return status, settings, public key of key pair B</text><path d="M104.5,857.7578 L240.5,857.7578 L240.5,864.8906 L230.5,874.8906 L104.5,874.8906 L104.5,857.7578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="243.9297" style="stroke:#000000;stroke-width:1.5;" width="1095.5" x="104.5" y="857.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="91" x="119.5" y="870.8247">WifiModule2</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="896.0234" y2="896.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="896.0234" y2="909.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="909.0234" y2="909.0234"/><polygon fill="#181818" points="181,905.0234,171,909.0234,181,913.0234,177,909.0234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="890.9575">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="350" x="199" y="890.9575">Generate command data using public key of key pair A</text><polygon fill="#181818" points="687,934.1563,697,938.1563,687,942.1563,691,938.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="693" y1="938.1563" y2="938.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="933.0903">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="199" y="933.0903">Send command data</text><line style="stroke:#181818;stroke-width:1.0;" x1="709" x2="751" y1="967.2891" y2="967.2891"/><line style="stroke:#181818;stroke-width:1.0;" x1="751" x2="751" y1="967.2891" y2="980.2891"/><line style="stroke:#181818;stroke-width:1.0;" x1="710" x2="751" y1="980.2891" y2="980.2891"/><polygon fill="#181818" points="720,976.2891,710,980.2891,720,984.2891,716,980.2891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="716" y="962.2231">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="738" y="962.2231">Generate key pair B</text><line style="stroke:#181818;stroke-width:1.0;" x1="709" x2="751" y1="1009.4219" y2="1009.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="751" x2="751" y1="1009.4219" y2="1022.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="710" x2="751" y1="1022.4219" y2="1022.4219"/><polygon fill="#181818" points="720,1018.4219,710,1022.4219,720,1026.4219,716,1022.4219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="716" y="1004.356">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="450" x="738" y="1004.356">Generate key with public key of key pair A and private key of key pair B</text><polygon fill="#181818" points="181,1047.5547,171,1051.5547,181,1055.5547,177,1051.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="175" x2="703" y1="1051.5547" y2="1051.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="187" y="1046.4888">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="209" y="1046.4888">Return public key of key pair B</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="1080.6875" y2="1080.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="1080.6875" y2="1093.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="1093.6875" y2="1093.6875"/><polygon fill="#181818" points="181,1089.6875,171,1093.6875,181,1097.6875,177,1093.6875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="1075.6216">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="199" y="1075.6216">Scan WiFi, set password, connect WiFi</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="1129.8203" y2="1129.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="1129.8203" y2="1142.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="1142.8203" y2="1142.8203"/><polygon fill="#181818" points="181,1138.8203,171,1142.8203,181,1146.8203,177,1142.8203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="1124.7544">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="450" x="199" y="1124.7544">Generate key with private key of key pair A and public key of key pair B</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="1171.9531" y2="1171.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="1171.9531" y2="1184.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="1184.9531" y2="1184.9531"/><polygon fill="#181818" points="181,1180.9531,171,1184.9531,181,1188.9531,177,1184.9531" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="1166.8872">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="199" y="1166.8872">Update command encoder/decoder</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="1214.0859" y2="1214.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="1214.0859" y2="1227.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="1227.0859" y2="1227.0859"/><polygon fill="#181818" points="181,1223.0859,171,1227.0859,181,1231.0859,177,1227.0859" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="1209.02">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="199" y="1209.02">Persist device information with key</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="1256.2188" y2="1256.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="1256.2188" y2="1269.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="1269.2188" y2="1269.2188"/><polygon fill="#181818" points="181,1265.2188,171,1269.2188,181,1273.2188,177,1269.2188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="1251.1528">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="199" y="1251.1528">Restore device state from shadow</text><polygon fill="#181818" points="50,1294.3516,40,1298.3516,50,1302.3516,46,1298.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="44" x2="164" y1="1298.3516" y2="1298.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="56" y="1293.2856">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="78" y="1293.2856"> </text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1210" x="0" y="1326.918"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1210" y1="1326.918" y2="1326.918"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1210" y1="1329.918" y2="1329.918"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="59" x="575.5" y="1316.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="40" x="581.5" y="1332.4185">Login</text><path d="M94.5,1356.4844 L462.5,1356.4844 L462.5,1363.6172 L452.5,1373.6172 L94.5,1373.6172 L94.5,1356.4844 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="390.4609" style="stroke:#000000;stroke-width:1.5;" width="839.5" x="94.5" y="1356.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="323" x="109.5" y="1369.5513">Sesame5/Bike2/Open Sensor/Sesame Touch</text><line style="stroke:#181818;stroke-width:1.0;" x1="165" x2="212" y1="1389.75" y2="1389.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="1389.75" y2="1402.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="1402.75" y2="1402.75"/><polygon fill="#181818" points="181,1398.75,171,1402.75,181,1406.75,177,1402.75" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="1384.6841">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="293" x="199" y="1384.6841">Generate session authorization with signature</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="1436.8828" y2="1436.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="1436.8828" y2="1449.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="1449.8828" y2="1449.8828"/><polygon fill="#181818" points="181,1445.8828,171,1449.8828,181,1453.8828,177,1449.8828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="1431.8169">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="493" x="199" y="1431.8169">Without signature, generate session authorization with session token and key</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="1479.0156" y2="1479.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="1479.0156" y2="1492.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="1492.0156" y2="1492.0156"/><polygon fill="#181818" points="181,1488.0156,171,1492.0156,181,1496.0156,177,1492.0156" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="1473.9497">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="199" y="1473.9497">Update command encoder/decoder</text><polygon fill="#181818" points="687,1517.1484,697,1521.1484,687,1525.1484,691,1521.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="693" y1="1521.1484" y2="1521.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="1516.0825">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="199" y="1516.0825">Send command data</text><line style="stroke:#181818;stroke-width:1.0;" x1="709" x2="751" y1="1550.2813" y2="1550.2813"/><line style="stroke:#181818;stroke-width:1.0;" x1="751" x2="751" y1="1550.2813" y2="1563.2813"/><line style="stroke:#181818;stroke-width:1.0;" x1="710" x2="751" y1="1563.2813" y2="1563.2813"/><polygon fill="#181818" points="720,1559.2813,710,1563.2813,720,1567.2813,716,1563.2813" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="716" y="1545.2153">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="738" y="1545.2153">Verify key consistency</text><polygon fill="#181818" points="181,1588.4141,171,1592.4141,181,1596.4141,177,1592.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="175" x2="703" y1="1592.4141" y2="1592.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="187" y="1587.3481">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="209" y="1587.3481">Return timestamp</text><path d="M104.5,1607.4141 L168.5,1607.4141 L168.5,1614.5469 L158.5,1624.5469 L104.5,1624.5469 L104.5,1607.4141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="132.5313" style="stroke:#000000;stroke-width:1.5;" width="819.5" x="104.5" y="1607.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="119.5" y="1620.481">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="300" x="183.5" y="1619.6245">[ABS(device timestamp - App timestamp) &gt;= 3]</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="1645.6797" y2="1645.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="1645.6797" y2="1658.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="1658.6797" y2="1658.6797"/><polygon fill="#181818" points="181,1654.6797,171,1658.6797,181,1662.6797,177,1658.6797" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="1640.6138">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="199" y="1640.6138">Get current time</text><polygon fill="#181818" points="687,1683.8125,697,1687.8125,687,1691.8125,691,1687.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="693" y1="1687.8125" y2="1687.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="1682.7466">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="199" y="1682.7466">Send command data</text><line style="stroke:#181818;stroke-width:1.0;" x1="709" x2="751" y1="1716.9453" y2="1716.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="751" x2="751" y1="1716.9453" y2="1729.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="710" x2="751" y1="1729.9453" y2="1729.9453"/><polygon fill="#181818" points="720,1725.9453,710,1729.9453,720,1733.9453,716,1729.9453" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="716" y="1711.8794">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="738" y="1711.8794">Synchronize time from App</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="104.5" x2="924" y1="1738.9453" y2="1738.9453"/><path d="M104.5,1760.9453 L240.5,1760.9453 L240.5,1768.0781 L230.5,1778.0781 L104.5,1778.0781 L104.5,1760.9453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="130.5313" style="stroke:#000000;stroke-width:1.5;" width="655" x="104.5" y="1760.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="91" x="119.5" y="1774.0122">WifiModule2</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="1799.2109" y2="1799.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="1799.2109" y2="1812.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="1812.2109" y2="1812.2109"/><polygon fill="#181818" points="181,1808.2109,171,1812.2109,181,1816.2109,177,1812.2109" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="1794.145">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="199" y="1794.145">Update command encoder/decoder</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="1841.3438" y2="1841.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="1841.3438" y2="1854.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="1854.3438" y2="1854.3438"/><polygon fill="#181818" points="181,1850.3438,171,1854.3438,181,1858.3438,177,1854.3438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="1836.2778">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337" x="199" y="1836.2778">Generate command data with key and session token</text><polygon fill="#181818" points="687,1879.4766,697,1883.4766,687,1887.4766,691,1883.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="693" y1="1883.4766" y2="1883.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="1878.4106">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="199" y="1878.4106">Send command data</text><polygon fill="#181818" points="181,1915.6094,171,1919.6094,181,1923.6094,177,1919.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="175" x2="698" y1="1919.6094" y2="1919.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="187" y="1914.5435">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="209" y="1914.5435">Response successful</text><polygon fill="#181818" points="181,1944.7422,171,1948.7422,181,1952.7422,177,1948.7422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="175" x2="703" y1="1948.7422" y2="1948.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="187" y="1943.6763">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="209" y="1943.6763">Publish device status</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="1982.875" y2="1982.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="1982.875" y2="1995.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="165" x2="212" y1="1995.875" y2="1995.875"/><polygon fill="#181818" points="175,1991.875,165,1995.875,175,1999.875,171,1995.875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="1977.8091">42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="199" y="1977.8091">Respond with device status</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1210" x="0" y="2021.7695"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1210" y1="2021.7695" y2="2021.7695"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1210" y1="2024.7695" y2="2024.7695"/><rect fill="#EEEEEE" height="27.7891" style="stroke:#000000;stroke-width:2.0;" width="177" x="516.5" y="2008.875"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="163" x="522.5" y="2028.6548">Send command =</text><polygon fill="#181818" points="148,2063.7969,158,2067.7969,148,2071.7969,152,2067.7969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="39" x2="154" y1="2067.7969" y2="2067.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="46" y="2062.731">43</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="68" y="2062.731">Tap Sesame</text><path d="M94.5,2106.9297 L462.5,2106.9297 L462.5,2114.0625 L452.5,2124.0625 L94.5,2124.0625 L94.5,2106.9297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="190.7969" style="stroke:#000000;stroke-width:1.5;" width="675" x="94.5" y="2106.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="323" x="109.5" y="2119.9966">Sesame5/Bike2/Open Sensor/Sesame Touch</text><path d="M104.5,2131.0625 L168.5,2131.0625 L168.5,2138.1953 L158.5,2148.1953 L104.5,2148.1953 L104.5,2131.0625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="655" x="104.5" y="2131.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="119.5" y="2144.1294">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="105" x="183.5" y="2143.2729">[BLE connected]</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="2169.3281" y2="2169.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="2169.3281" y2="2182.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="2182.3281" y2="2182.3281"/><polygon fill="#181818" points="181,2178.3281,171,2182.3281,181,2186.3281,177,2182.3281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="2164.2622">44</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="199" y="2164.2622">Generate command data</text><polygon fill="#181818" points="687,2207.4609,697,2211.4609,687,2215.4609,691,2211.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="693" y1="2211.4609" y2="2211.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="2206.395">45</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="199" y="2206.395">Send command data</text><polygon fill="#181818" points="181,2236.5938,171,2240.5938,181,2244.5938,177,2240.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="175" x2="703" y1="2240.5938" y2="2240.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="187" y="2235.5278">46</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="209" y="2235.5278">Publish device status</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="2269.7266" y2="2269.7266"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="2269.7266" y2="2282.7266"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="2282.7266" y2="2282.7266"/><polygon fill="#181818" points="181,2278.7266,171,2282.7266,181,2286.7266,177,2282.7266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="2264.6606">47</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="199" y="2264.6606">Restore interface from device status</text><path d="M104.5,2311.7266 L240.5,2311.7266 L240.5,2318.8594 L230.5,2328.8594 L104.5,2328.8594 L104.5,2311.7266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="655" x="104.5" y="2311.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="91" x="119.5" y="2324.7935">WifiModule2</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="2349.9922" y2="2349.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="2349.9922" y2="2362.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="2362.9922" y2="2362.9922"/><polygon fill="#181818" points="181,2358.9922,171,2362.9922,181,2366.9922,177,2362.9922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="2344.9263">48</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="382" x="199" y="2344.9263">Generate command data (key and public key when needed)</text><polygon fill="#181818" points="687,2388.125,697,2392.125,687,2396.125,691,2392.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="693" y1="2392.125" y2="2392.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="2387.0591">49</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="199" y="2387.0591">Send command data</text><polygon fill="#181818" points="181,2417.2578,171,2421.2578,181,2425.2578,177,2421.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="175" x2="703" y1="2421.2578" y2="2421.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="187" y="2416.1919">50</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="209" y="2416.1919">Publish device status</text><line style="stroke:#181818;stroke-width:1.0;" x1="170" x2="212" y1="2450.3906" y2="2450.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="212" y1="2450.3906" y2="2463.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="171" x2="212" y1="2463.3906" y2="2463.3906"/><polygon fill="#181818" points="181,2459.3906,171,2463.3906,181,2467.3906,177,2463.3906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="177" y="2445.3247">51</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="199" y="2445.3247">Restore interface from device status</text><polygon fill="#181818" points="50,2495.5234,40,2499.5234,50,2503.5234,46,2499.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="44" x2="164" y1="2499.5234" y2="2499.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="56" y="2494.4575">52</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="78" y="2494.4575"> </text></g></svg>